{
  "task_id": "d8014412-19fc-4fbd-b0a2-54a86f66c137",
  "file_name": "d8014412-19fc-4fbd-b0a2-54a86f66c137_План второго этажа.dxf",
  "processed_at": "2025-11-25T19:07:37.244857Z",
  "source_info": {
    "is_dxf": true,
    "layers_count": 31,
    "layers": [
      {
        "name": "0"
      },
      {
        "name": "Defpoints"
      },
      {
        "name": "размеры2"
      },
      {
        "name": "оси"
      },
      {
        "name": "текст"
      },
      {
        "name": "СТЕНЫ"
      },
      {
        "name": "окна"
      },
      {
        "name": "штрих"
      },
      {
        "name": "DOORS"
      },
      {
        "name": "SANTECHNIC"
      },
      {
        "name": "000-ANNOTATION"
      },
      {
        "name": "стена"
      },
      {
        "name": "okna_dveri"
      },
      {
        "name": "STENA"
      },
      {
        "name": "MY TEXT"
      },
      {
        "name": "Колонна"
      },
      {
        "name": "TEXT-ANNOTATION"
      },
      {
        "name": "Штамп"
      },
      {
        "name": "_floor"
      },
      {
        "name": "Колонны"
      },
      {
        "name": "Вытяжка"
      },
      {
        "name": "РП-АР_Площадь"
      },
      {
        "name": "Надпись"
      },
      {
        "name": "ЗАДАНИЕ ОТ ОВ"
      },
      {
        "name": "++++подача"
      },
      {
        "name": "++++обратка"
      },
      {
        "name": "ОТОПЛЕНИЕ ТЕСТ"
      },
      {
        "name": "SAN_Обратные трубопроводы CO на плане"
      },
      {
        "name": "SAN_Подающие трубопроводы CO на плане"
      },
      {
        "name": "SAN_Отопительные приборы CO на плане"
      },
      {
        "name": "++ОВ Надписи"
      }
    ],
    "entity_counts": {
      "INSERT": 10,
      "CIRCLE": 64,
      "LWPOLYLINE": 140,
      "TEXT": 206,
      "LINE": 126,
      "MTEXT": 140
    },
    "examples": {
      "lines": [
        {
          "layer": "СТЕНЫ",
          "start": [
            -5566.403407417412,
            -10856.14213760161
          ],
          "end": [
            -7566.403407417412,
            -10856.14213760161
          ]
        },
        {
          "layer": "Надпись",
          "start": [
            -2545.683207234193,
            -6073.336198061227
          ],
          "end": [
            -2545.683207234193,
            -8813.136198061738
          ]
        },
        {
          "layer": "Надпись",
          "start": [
            -4886.483207234356,
            -6073.336198061227
          ],
          "end": [
            7252.252623099426,
            -6073.336198061227
          ]
        },
        {
          "layer": "Надпись",
          "start": [
            -4886.483207234356,
            -7815.636198061273
          ],
          "end": [
            7252.252623099426,
            -7815.636198061856
          ]
        },
        {
          "layer": "Надпись",
          "start": [
            -4886.483207234356,
            -6073.336198061227
          ],
          "end": [
            -4886.483207234473,
            -18856.14213760184
          ]
        }
      ],
      "polylines": [
        {
          "layer": "оси",
          "points": [
            [
              -2200.129852968093,
              11998.10848540988
            ],
            [
              44546.55627144123,
              11998.10848540988
            ]
          ]
        },
        {
          "layer": "0",
          "points": [
            [
              -6766.403407417413,
              -13356.14213760184
            ],
            [
              -5566.403407417412,
              -13356.14213760184
            ]
          ]
        },
        {
          "layer": "0",
          "points": [
            [
              -6766.403407417413,
              -16356.14213760184
            ],
            [
              -5566.403407417412,
              -16356.14213760184
            ]
          ]
        },
        {
          "layer": "0",
          "points": [
            [
              -6266.403407417413,
              -18856.14213760184
            ],
            [
              -6266.403407417413,
              -10856.14213760184
            ]
          ]
        },
        {
          "layer": "0",
          "points": [
            [
              -5566.403407417412,
              -18856.14213760184
            ],
            [
              -6266.403407417413,
              -18856.14213760184
            ],
            [
              -6766.403407417413,
              -18856.14213760184
            ],
            [
              -6766.403407417413,
              -16356.14213760184
            ],
            [
              -6766.403407417413,
              -13356.14213760184
            ],
            [
              -6766.403407417413,
              -10856.14213760184
            ],
            [
              -5566.403407417412,
              -10856.14213760184
            ]
          ]
        }
      ],
      "inserts": [
        {
          "layer": "0",
          "block_name": "рварварав",
          "insert_point": [
            -294836.5503782333,
            165785.1846512883
          ]
        },
        {
          "layer": "0",
          "block_name": "yiyiftt",
          "insert_point": [
            -444722.1403932138,
            -843717.2964202851
          ]
        },
        {
          "layer": "0",
          "block_name": "Marka kv_3 - Квартира-1164207-Этаж 1 _3-1-3_МГН_",
          "insert_point": [
            5578.496351522685,
            -14577.63738083698
          ]
        },
        {
          "layer": "0",
          "block_name": "Marka kv_3 - Квартира-1164207-Этаж 1 _3-1-3_МГН_",
          "insert_point": [
            5578.496351522685,
            -10048.23441106708
          ]
        },
        {
          "layer": "0",
          "block_name": "Marka kv_3 - Квартира-1164207-Этаж 1 _3-1-3_МГН_",
          "insert_point": [
            17938.97684558079,
            -7308.434411066571
          ]
        }
      ]
    }
  },
  "geometry_analysis": {
    "walls_detection": {
      "total_segments": 9,
      "total_walls": 7,
      "wall_layers_used": [
        "СТЕНЫ"
      ],
      "wall_layers_stats": [
        {
          "layer": "СТЕНЫ",
          "segments": 9,
          "total_length": 6858.211693303632
        }
      ],
      "walls": [
        {
          "id": "wall-9919068",
          "layer": "СТЕНЫ",
          "center_start": [
            -5566.403407417412,
            -10856.14213760161
          ],
          "center_end": [
            -7566.403407417412,
            -10856.14213760161
          ],
          "length": 2000.0,
          "thickness": null,
          "source_type": "merged"
        },
        {
          "id": "wall-387157",
          "layer": "СТЕНЫ",
          "center_start": [
            7985.879920207954,
            6427.172678505666
          ],
          "center_end": [
            7985.879920207954,
            6225.654212889857
          ],
          "length": 201.51846561580896,
          "thickness": null,
          "source_type": "single_line"
        },
        {
          "id": "wall-130196",
          "layer": "СТЕНЫ",
          "center_start": [
            7985.879920207954,
            6225.654212889857
          ],
          "center_end": [
            8811.948835627234,
            6225.654212889857
          ],
          "length": 826.0689154192805,
          "thickness": null,
          "source_type": "single_line"
        },
        {
          "id": "wall-550913",
          "layer": "СТЕНЫ",
          "center_start": [
            8811.948835627234,
            6225.654212889857
          ],
          "center_end": [
            8811.948835627234,
            6427.172678505666
          ],
          "length": 201.51846561580896,
          "thickness": null,
          "source_type": "single_line"
        },
        {
          "id": "wall-615677",
          "layer": "СТЕНЫ",
          "center_start": [
            30417.59259573785,
            6426.166488418833
          ],
          "center_end": [
            30417.57451723569,
            6224.648023613974
          ],
          "length": 201.51846561578273,
          "thickness": null,
          "source_type": "single_line"
        },
        {
          "id": "wall-153987",
          "layer": "СТЕНЫ",
          "center_start": [
            30417.57451723569,
            6224.648023613974
          ],
          "center_end": [
            29591.50560514054,
            6224.722131406319
          ],
          "length": 826.0689154193068,
          "thickness": null,
          "source_type": "single_line"
        },
        {
          "id": "wall-309380",
          "layer": "СТЕНЫ",
          "center_start": [
            29591.50560514054,
            6224.722131406319
          ],
          "center_end": [
            29591.52368364268,
            6426.240596211179
          ],
          "length": 201.51846561578364,
          "thickness": null,
          "source_type": "single_line"
        }
      ]
    },
    "rooms_detection": {
      "room_layers_used": [],
      "total_polygons": 0,
      "rooms": []
    }
  },
  "summary": {
    "rooms_count": 2,
    "walls_count": 1,
    "windows_count": 1,
    "doors_count": 1,
    "notes": "Части BIM-структуры пока тестовые (заглушка). Геометрия DXF анализируется отдельно."
  },
  "rooms": [
    {
      "id": "room-1",
      "number": "101",
      "name": "Комната 101",
      "area": 18.5,
      "perimeter": 17.2,
      "floor": 1,
      "level_mark": 0,
      "boundary_polygon": [
        [
          0,
          0
        ],
        [
          4,
          0
        ],
        [
          4,
          4.5
        ],
        [
          0,
          4.5
        ]
      ],
      "enclosures": [
        "wall-1",
        "wall-2",
        "wall-3",
        "wall-4",
        "window-1",
        "door-1"
      ]
    },
    {
      "id": "room-2",
      "number": "102",
      "name": "Комната 102",
      "area": 12.3,
      "perimeter": 14.0,
      "floor": 1,
      "level_mark": 0,
      "boundary_polygon": [
        [
          4,
          0
        ],
        [
          7,
          0
        ],
        [
          7,
          4
        ],
        [
          4,
          4
        ]
      ],
      "enclosures": [
        "wall-2",
        "wall-5",
        "wall-6",
        "window-2"
      ]
    }
  ],
  "walls": [
    {
      "id": "wall-1",
      "type": "outer",
      "geometry": {
        "points": [
          [
            0,
            0
          ],
          [
            4,
            0
          ]
        ]
      },
      "length": 4.0,
      "thickness": 0.25,
      "floor": 1,
      "start_room": "room-1",
      "end_room": null,
      "layer": "AR_WALL_OUTER"
    }
  ],
  "windows": [
    {
      "id": "window-1",
      "wall_id": "wall-1",
      "position": [
        2.0,
        0.0
      ],
      "width": 1.2,
      "height": 1.5,
      "block_name": "W_1200x1500"
    }
  ],
  "doors": [
    {
      "id": "door-1",
      "wall_id": "wall-2",
      "room_from": "room-1",
      "room_to": "room-2",
      "width": 0.9,
      "height": 2.0,
      "block_name": "DOOR_900"
    }
  ],
  "qc_report": {
    "errors": [],
    "warnings": [],
    "summary": "QC пока не выполняется, так как используется заглушка BIM-структуры."
  }
}